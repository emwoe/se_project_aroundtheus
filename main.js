!function(){"use strict";var e={498:function(e,t,r){e.exports=r.p+"f44d4bda95b365b93115.jpg"},460:function(e,t,r){e.exports=r.p+"70dde39c90b527ec62b2.jpg"},338:function(e,t,r){e.exports=r.p+"b3dd0fefea7f7de0e25b.jpg"},775:function(e,t,r){e.exports=r.p+"1c08a42a1ca45d1746f3.jpg"},291:function(e,t,r){e.exports=r.p+"b87c022f67fef0740657.jpg"},182:function(e,t,r){e.exports=r.p+"125bf2b043e25dddbfe2.jpg"}},t={};function r(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,r),i.exports}r.m=e,r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.b=document.baseURI||self.location.href,function(){new URL(r(460),r.b),new URL(r(291),r.b),new URL(r(182),r.b),new URL(r(775),r.b),new URL(r(338),r.b),new URL(r(498),r.b),Array.from(document.querySelectorAll(".form"));const e=document.querySelector(".modal_type_profile"),t=document.querySelector(".info__button"),s=(e.querySelector(".modal__close-button"),e.querySelector(".modal__container"),e.querySelector(".modal__save-button"),document.querySelector(".modal_type_new-image")),o=document.querySelector(".profile__button"),i=(s.querySelector(".modal__close-button"),s.querySelector(".modal__container")),n=(document.querySelector(".info__name"),document.querySelector("#name")),a=(document.querySelector(".info__job-title"),document.querySelector("#job-description")),l=document.querySelector(".profile__sheer-hover");document.querySelector(".modal_type_change-profile-picture").querySelector(".modal__container"),document.querySelector("#title"),document.querySelector("#image-link"),document.querySelectorAll(".card__image"),document.querySelector(".modal__wrapper_type_image-pop-out"),document.querySelector(".modal__close-button_type-image-pop-out"),document.querySelector(".card__pop-out_caption");class d{constructor(e,t,r,s,o){this._cardSelector=t,this.data=e,this._handleImageClick=r,this._handleDeleteBtn=s,this._handleLikeBtn=o}_getTemplate(){return this._cardTemplate=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardTemplate}generateCard(){return this._cardElement=this._getTemplate(),this._cardHeart=this._cardElement.querySelector(".card__heart"),this._setEventListeners(),this._cardElement.querySelector(".card__name").textContent=this.data.name,this._cardElement.querySelector(".card__image").src=this.data.link,this._cardElement.querySelector(".card__image").alt=this.data.name,1==this.data.isLiked?this._cardHeart.classList.add("card__heart-option-liked"):this._cardHeart.classList.remove("card__heart-option-liked"),this._cardElement}_setEventListeners(){const e=this._cardElement.querySelector(".card__delete-btn");this._cardHeart.addEventListener("click",(()=>{this._handleLikeBtn(this)})),e.addEventListener("click",(()=>{this._handleDeleteBtn(this)})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this._handleImageClick(this)}))}deleteCard(){console.log(this),this._cardElement.remove()}}class c{constructor(e,t){this._validationConfig=e,this._form=t,this._inputList=Array.from(this._form.querySelectorAll(this._validationConfig.inputSelector)),this._buttonElement=this._form.querySelector(this._validationConfig.submitButtonSelector)}_disableButton(){this._buttonElement.classList.add(this._validationConfig.inactiveButtonClass),this._buttonElement.disabled=!0}_enableButton(){this._buttonElement.classList.remove(this._validationConfig.inactiveButtonClass),this._buttonElement.disabled=!1}toggleButtonState(){this._hasInvalidInput(this._inputList)?this._disableButton():this._enableButton()}_setEventListeners(){this._disableButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{console.log("Input made!"),console.log(e),this._checkInputValidity(e),this.toggleButtonState()}))}))}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_checkInputValidity(e){e.validity.valid?this._hideInputError(e,this._form,this._validationConfig):this._showInputError(e,this._form,e.validationMessage,this._validationConfig)}_showInputError(e,t,r,s){this._errorElement=this._form.querySelector(`.${e.id}${this._validationConfig.errorMessageSelectorSuffix}`),e.classList.add(this._validationConfig.inputErrorClass),this._errorElement.textContent=r,this._errorElement.classList.add(this._validationConfig.errorClass)}_hideInputError(e,t,r){e.classList.remove(this._validationConfig.inputErrorClass),this._errorElement=this._form.querySelector(`.${e.id}${this._validationConfig.errorMessageSelectorSuffix}`),this._errorElement.classList.remove(this._validationConfig.errorClass),this._errorElement.textContent=""}resetValidation(){this._disableButton(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class u{constructor(e,t){let{items:r,renderer:s}=e;this._items=r,this._renderer=s,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._element=this._renderer(e),this.addItem(this._element)}))}addItem(e){this._container.prepend(e)}}class _{constructor(e){let{popupSelector:t}=e;this._popupModal=document.querySelector(t),this._popupModalCloseBtn=this._popupModal.querySelector(".modal__close-button"),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._addEscEventListener(),this._popupModal.classList.add("modal_opened")}close(){this._popupModal.classList.remove("modal_opened"),this._removeEscEventListener()}_handleEscClose(e){"Escape"===e.key&&this.close()}_handleRemoteClick(e){e.target===e.currentTarget&&(console.log(e.target),this.close())}setEventListeners(){this._popupModalCloseBtn.addEventListener("click",(()=>{this.close()})),this._popupModal.addEventListener("click",this._handleRemoteClick.bind(this))}_addEscEventListener(){document.addEventListener("keydown",this._handleEscClose,!1),console.log("Listener added!")}_removeEscEventListener(){document.removeEventListener("keydown",this._handleEscClose,!1),console.log("Listener removed!")}}class h extends _{constructor(e){let{popupSelector:t,handleFormSubmit:r,buttonText:s}=e;super({popupSelector:t}),this._handleFormSubmit=r,this._buttonText=s,this._modalForm=this._popupModal.querySelector(".modal__container"),this._modalInputs=this._popupModal.querySelectorAll(".modal__input"),this._submitBtn=this._modalForm.querySelector(".modal__save-button"),this.submitBtnText=this._submitBtn.textContent}_getInputValues(){const e={};return this._modalInputs.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){this._modalForm.addEventListener("submit",(e=>{e.preventDefault();const t=this._getInputValues();this.renderSaving(!0),this._handleFormSubmit(t)})),super.setEventListeners()}renderSaving(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitBtnText=e?t:this._buttonText}}let p,m;const v=new class{constructor(e){let{apiAddress:t,apiHeaders:r}=e;this._apiAddress=t,this._apiHeaders=r}_serverRequest(e,t){return fetch(e,t).then(this.renderResult)}renderResult(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return this._serverRequest(`${this._apiAddress}/cards`,{headers:this._apiHeaders})}fetchUserInfo(){return this._serverRequest(`${this._apiAddress}/users/me`,{headers:this._apiHeaders})}editUserInfo(e){return this._serverRequest(`${this._apiAddress}/users/me`,{method:"PATCH",headers:this._apiHeaders,body:JSON.stringify({name:e.name,about:e.job})})}editUserProfilePicture(e){return this._serverRequest(`${this._apiAddress}/users/me/avatar`,{method:"PATCH",headers:this._apiHeaders,body:JSON.stringify({avatar:e.avatar})})}addNewCard(e){return this._serverRequest(`${this._apiAddress}/cards`,{method:"POST",headers:this._apiHeaders,body:JSON.stringify({name:e.name,link:e.link})})}deleteCard(e){return this._serverRequest(`${this._apiAddress}/cards/${e}`,{method:"DELETE",headers:this._apiHeaders})}addLike(e){return this._serverRequest(`${this._apiAddress}/cards/${e}/likes`,{method:"PUT",headers:this._apiHeaders})}removeLike(e){return this._serverRequest(`${this._apiAddress}/cards/${e}/likes`,{method:"DELETE",headers:this._apiHeaders})}checkCardsStatus(){return this._serverRequest(`${this._apiAddress}/cards`,{headers:this._apiHeaders})}loadPageResults(){return Promise.all([this.getInitialCards(),this.fetchUserInfo()])}}({apiAddress:"https://around-api.en.tripleten-services.com/v1",apiHeaders:{authorization:"34ba410c-a4f9-4189-8d1e-4545749c88e4","Content-Type":"application/json"}}),f=new class{constructor(e){let{userNameSelector:t,userJobSelector:r,profilePictureSelector:s}=e;this._userNameSelector=t,this._userJobSelector=r,this._userName=document.querySelector(t),this._userJob=document.querySelector(r),this._userProfilePicture=document.querySelector(s)}getUserInfo(){return{name:this._userName.textContent,job:this._userJob.textContent}}getUserPictureLink(){return{avatar:this._userProfilePicture.src}}setUserInfo(e){this._userName.textContent=e.name,this._userJob.textContent=e.job}setUserPicture(e){this._userProfilePicture.src=e.avatar}}({userNameSelector:".info__name",userJobSelector:".info__job-title",profilePictureSelector:".profile__circle"});function S(e){return new d(e,"#localeCard",k,E,y).generateCard()}v.loadPageResults().then((e=>{let[t,r]=e;m=new u({items:t,renderer:S},".elements"),m.renderItems(),console.log(r),f.setUserInfo({name:r.name,job:r.about}),f.setUserPicture({avatar:r.avatar})})).catch((e=>{console.error(e)}));const b=new class extends _{constructor(e){let{popupSelector:t,imageSelector:r}=e;super({popupSelector:t}),this._popupModalImage=this._popupModal.querySelector(r),this._popupModalCaption=this._popupModal.querySelector(".card__pop-out_caption")}open(e,t){this._popupModalImage.src=t,this._popupModalImage.alt=e,this._popupModalCaption.textContent=e,super.open()}}({popupSelector:".modal_type_image-pop-out",imageSelector:".card__image_option_pop-out"});b.setEventListeners();const g=new class extends _{constructor({popupSelector:e,handleBtnClick:t,buttonText:r}){super({popupSelector:e}),this._buttonText=r,this._handleBtnClick=t,this._modalForm=this._popupModal.querySelector(".modal__container"),this._submitBtn=this._modalForm.querySelector(".modal__save-button"),this.submitBtnText=this._submitBtn.textContent}setEventListeners(){this._submitBtn.addEventListener("click",(e=>{e.preventDefault(),this.renderSaving(!0),this._handleBtnClick()})),super.setEventListeners()}renderSaving(e,t="Deleting..."){this._submitBtnText=e?t:this._buttonText}}({popupSelector:".modal_type_delete-image",handleBtnClick:()=>{v.deleteCard(p.data._id).then(p.deleteCard()).then(g.close()).catch((e=>{console.error(e)})).finally(g.renderSaving(!1))},buttonText:"Yes"});function E(e){return console.log(e),g.open(),p=e,p}function y(e){0==e.data.isLiked?v.addLike(e.data._id).then(e.data.isLiked=!0).then(e._cardHeart.classList.toggle("card__heart-option-liked")).catch((e=>{console.error(e)})):v.removeLike(e.data._id).then(e.data.isLiked=!1).then(e._cardHeart.classList.toggle("card__heart-option-liked")).catch((e=>{console.error(e)}))}g.setEventListeners(),t.addEventListener("click",(()=>{L.open();const e=f.getUserInfo();console.log(e),n.value=e.name,a.value=e.job,I.editProfile.resetValidation})),l.addEventListener("click",(()=>{C.open()})),o.addEventListener("click",(()=>{q.open()}));const L=new h({popupSelector:".modal_type_profile",handleFormSubmit:function(e){x((function(){return v.editUserInfo(e).then((e=>{f.setUserInfo({name:e.name,job:e.about})}))}),L)},buttonText:"Save"}),C=new h({popupSelector:".modal_type_change-profile-picture",handleFormSubmit:function(e){x((function(){return v.editUserProfilePicture(e).then((e=>{f.setUserPicture({avatar:e.avatar})}))}),C)},buttonText:"Save"}),q=new h({popupSelector:".modal_type_new-image",handleFormSubmit:function(e){x((function(){return v.addNewCard(e).then((e=>S(e))).then((e=>m.addItem(e))).then(i.reset()).then(I.newPlace.toggleButtonState())}),q)},buttonText:"Create"});function k(e){b.open(e.data.name,e.data.link)}function x(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Saving...";t.renderSaving(!0,r),e().then((()=>{t.close()})).catch((e=>console.log(e))).finally((()=>{t.renderSaving(!1)}))}L.setEventListeners(),q.setEventListeners(),C.setEventListeners();const I={};var B;B={formSelector:".form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__button_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error_active",errorMessageSelectorSuffix:"-input-error"},Array.from(document.querySelectorAll(B.formSelector)).forEach((e=>{const t=new c(B,e),r=e.getAttribute("name");I[r]=t,t.enableValidation()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQWtCNkIsR0FDaEQrSSxFQUFXL0ksRUFBWWdKLGFBQWEsUUFDMUNaLEVBQWVXLEdBQVlELEVBQzNCQSxFQUFVNUksa0JBQWtCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsImV4cG9ydCBjb25zdCBBdXN0aW5JbWFnZSA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzL2NhcmQtaW1hZ2VzL0F1c3Rpbi5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuZXhwb3J0IGNvbnN0IE5ZQ0ltYWdlID0gbmV3IFVSTChcbiAgXCIuLi9pbWFnZXMvY2FyZC1pbWFnZXMvTmV3WW9yay5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuZXhwb3J0IGNvbnN0IFNhbkZyYW5JbWFnZSA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzL2NhcmQtaW1hZ2VzL1NhbkZyYW4uanBnXCIsXG4gIGltcG9ydC5tZXRhLnVybFxuKTtcbmV4cG9ydCBjb25zdCBLQ2l0eUltYWdlID0gbmV3IFVSTChcbiAgXCIuLi9pbWFnZXMvY2FyZC1pbWFnZXMvS2Fuc2FzQ2l0eS5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuZXhwb3J0IGNvbnN0IENoaWNhZ29JbWFnZSA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzL2NhcmQtaW1hZ2VzL0NoaWNhZ28uanBnXCIsXG4gIGltcG9ydC5tZXRhLnVybFxuKTtcbmV4cG9ydCBjb25zdCBBVExJbWFnZSA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzL2NhcmQtaW1hZ2VzL0F0bGFudGEuanBnXCIsXG4gIGltcG9ydC5tZXRhLnVybFxuKTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiQXVzdGluXCIsXG4gICAgbGluazogQXVzdGluSW1hZ2UsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIk5ldyBZb3JrXCIsXG4gICAgbGluazogTllDSW1hZ2UsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlNhbiBGcmFuY2lzY29cIixcbiAgICBsaW5rOiBTYW5GcmFuSW1hZ2UsXG4gIH0sXG5cbiAge1xuICAgIG5hbWU6IFwiS2Fuc2FzIENpdHlcIixcbiAgICBsaW5rOiBLQ2l0eUltYWdlLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJDaGljYWdvXCIsXG4gICAgbGluazogQ2hpY2Fnb0ltYWdlLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJBdGxhbnRhXCIsXG4gICAgbGluazogQVRMSW1hZ2UsXG4gIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9pbmFjdGl2ZVwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXG4gIGVycm9yTWVzc2FnZVNlbGVjdG9yU3VmZml4OiBcIi1pbnB1dC1lcnJvclwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1cIikpO1xuZXhwb3J0IGNvbnN0IG1vZGFsUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9wcm9maWxlXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsUHJvZmlsZUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmluZm9fX2J1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBtb2RhbFByb2ZpbGVDbG9zZUJ0biA9IG1vZGFsUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCJcbik7XG5leHBvcnQgY29uc3QgbW9kYWxQcm9maWxlRm9ybSA9IG1vZGFsUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb250YWluZXJcIik7XG5leHBvcnQgY29uc3QgbW9kYWxQcm9maWxlU2F2ZUJ0biA9IG1vZGFsUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fc2F2ZS1idXR0b25cIlxuKTtcblxuZXhwb3J0IGNvbnN0IG1vZGFsSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX3R5cGVfbmV3LWltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsSW1hZ2VFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b25cIik7XG5leHBvcnQgY29uc3QgbW9kYWxJbWFnZUNsb3NlQnRuID0gbW9kYWxJbWFnZS5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCJcbik7XG5leHBvcnQgY29uc3QgbW9kYWxJbWFnZUZvcm0gPSBtb2RhbEltYWdlLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NvbnRhaW5lclwiKTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbmZvX19uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbmZvX19qb2ItdGl0bGVcIik7XG5leHBvcnQgY29uc3QgbW9kYWxKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pvYi1kZXNjcmlwdGlvblwiKTtcbmV4cG9ydCBjb25zdCBuZXdQcm9maWxlSW1hZ2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19zaGVlci1ob3ZlclwiXG4pO1xuZXhwb3J0IGNvbnN0IG1vZGFsTmV3UGljdHVyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLm1vZGFsX3R5cGVfY2hhbmdlLXByb2ZpbGUtcGljdHVyZVwiXG4pO1xuZXhwb3J0IGNvbnN0IG5ld1Byb2ZpbGVQaWN0dXJlRm9ybSA9XG4gIG1vZGFsTmV3UGljdHVyZS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb250YWluZXJcIik7XG5cbmV4cG9ydCBjb25zdCBtb2RhbEltYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RpdGxlXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsSW1hZ2VMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZS1saW5rXCIpO1xuXG5leHBvcnQgY29uc3QgY2FyZEltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZF9faW1hZ2VcIik7XG5cbmV4cG9ydCBjb25zdCBjYXJkSW1hZ2VQb3BPdXRXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIubW9kYWxfX3dyYXBwZXJfdHlwZV9pbWFnZS1wb3Atb3V0XCJcbik7XG5leHBvcnQgY29uc3QgY2FyZEltYWdlUG9wT3V0Q2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uX3R5cGUtaW1hZ2UtcG9wLW91dFwiXG4pO1xuZXhwb3J0IGNvbnN0IGNhcmRJbWFnZVBvcE91dENhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5jYXJkX19wb3Atb3V0X2NhcHRpb25cIlxuKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUJ0bixcbiAgICBoYW5kbGVMaWtlQnRuXG4gICkge1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ0biA9IGhhbmRsZURlbGV0ZUJ0bjtcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnRuID0gaGFuZGxlTGlrZUJ0bjtcbiAgfVxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gdGhpcy5fY2FyZFRlbXBsYXRlO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9jYXJkSGVhcnQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2hlYXJ0XCIpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19uYW1lXCIpLnRleHRDb250ZW50ID0gdGhpcy5kYXRhLm5hbWU7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5zcmMgPSB0aGlzLmRhdGEubGluaztcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpLmFsdCA9IHRoaXMuZGF0YS5uYW1lO1xuICAgIGlmICh0aGlzLmRhdGEuaXNMaWtlZCA9PSB0cnVlKSB7XG4gICAgICB0aGlzLl9jYXJkSGVhcnQuY2xhc3NMaXN0LmFkZChcImNhcmRfX2hlYXJ0LW9wdGlvbi1saWtlZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY2FyZEhlYXJ0LmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19oZWFydC1vcHRpb24tbGlrZWRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGNhcmREZWxldGVCdG4gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idG5cIik7XG4gICAgdGhpcy5fY2FyZEhlYXJ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQnRuKHRoaXMpO1xuICAgICAgLypcbiAgICAgIHRoaXMuX2NhcmRIZWFydC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9faGVhcnQtb3B0aW9uLWxpa2VkXCIpO1xuICAgICAgKi9cbiAgICB9KTtcblxuICAgIGNhcmREZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ0bih0aGlzKTtcbiAgICB9KTtcbiAgICBjb25zdCBjYXJkSW1hZ2VFbGVtZW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICBjYXJkSW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQ2FyZCgpIHtcbiAgICBjb25zb2xlLmxvZyh0aGlzKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm0pIHtcbiAgICB0aGlzLl92YWxpZGF0aW9uQ29uZmlnID0gdmFsaWRhdGlvbkNvbmZpZztcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcilcbiAgICApO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB0aGlzLl92YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG4gIF9kaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcbiAgICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzc1xuICAgICk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBfZW5hYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcbiAgICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzc1xuICAgICk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dExpc3QpKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW5wdXQgbWFkZSFcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihcbiAgICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgICB0aGlzLl9mb3JtLFxuICAgICAgICBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UsXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWdcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgdGhpcy5fZm9ybSwgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZyk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZm9ybSwgZXJyb3JNZXNzYWdlLCB2YWxpZGF0aW9uQ29uZmlnKSB7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0ke3RoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JNZXNzYWdlU2VsZWN0b3JTdWZmaXh9YFxuICAgICk7XG5cbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBmb3JtRWxlbWVudCwgdmFsaWRhdGlvbkNvbmZpZykge1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfSR7dGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvck1lc3NhZ2VTZWxlY3RvclN1ZmZpeH1gXG4gICAgKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgICAgdGhpcy5hZGRJdGVtKHRoaXMuX2VsZW1lbnQpO1xuICAgIH0pO1xuICB9XG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fcG9wdXBNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBNb2RhbENsb3NlQnRuID0gdGhpcy5fcG9wdXBNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiXG4gICAgKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX2FkZEVzY0V2ZW50TGlzdGVuZXIoKTtcbiAgICB0aGlzLl9wb3B1cE1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cE1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgdGhpcy5fcmVtb3ZlRXNjRXZlbnRMaXN0ZW5lcigpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgX2hhbmRsZVJlbW90ZUNsaWNrKGV2dCkge1xuICAgIGlmIChldnQudGFyZ2V0ID09PSBldnQuY3VycmVudFRhcmdldCkge1xuICAgICAgY29uc29sZS5sb2coZXZ0LnRhcmdldCk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBNb2RhbENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fcG9wdXBNb2RhbC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJjbGlja1wiLFxuICAgICAgdGhpcy5faGFuZGxlUmVtb3RlQ2xpY2suYmluZCh0aGlzKVxuICAgICk7XG4gIH1cblxuICBfYWRkRXNjRXZlbnRMaXN0ZW5lcigpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSwgZmFsc2UpO1xuICAgIGNvbnNvbGUubG9nKFwiTGlzdGVuZXIgYWRkZWQhXCIpO1xuICB9XG4gIF9yZW1vdmVFc2NFdmVudExpc3RlbmVyKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlLCBmYWxzZSk7XG4gICAgY29uc29sZS5sb2coXCJMaXN0ZW5lciByZW1vdmVkIVwiKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5pbXBvcnQgeyBtb2RhbEltYWdlVGl0bGUsIG1vZGFsSW1hZ2VMaW5rIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQsIGJ1dHRvblRleHQgfSkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9idXR0b25UZXh0ID0gYnV0dG9uVGV4dDtcbiAgICB0aGlzLl9tb2RhbEZvcm0gPSB0aGlzLl9wb3B1cE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NvbnRhaW5lclwiKTtcbiAgICB0aGlzLl9tb2RhbElucHV0cyA9IHRoaXMuX3BvcHVwTW9kYWwucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XG4gICAgdGhpcy5fc3VibWl0QnRuID0gdGhpcy5fbW9kYWxGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIpO1xuICAgIHRoaXMuc3VibWl0QnRuVGV4dCA9IHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudDtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBmb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5fbW9kYWxJbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX21vZGFsRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xuICAgICAgdGhpcy5yZW5kZXJTYXZpbmcodHJ1ZSk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KGlucHV0VmFsdWVzKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcmVuZGVyU2F2aW5nKGlzU2F2aW5nLCBzYXZpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xuICAgIGlmIChpc1NhdmluZykge1xuICAgICAgdGhpcy5fc3VibWl0QnRuVGV4dCA9IHNhdmluZ1RleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0blRleHQgPSB0aGlzLl9idXR0b25UZXh0O1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcbmltcG9ydCB7XG4gIEF1c3RpbkltYWdlLFxuICBOWUNJbWFnZSxcbiAgU2FuRnJhbkltYWdlLFxuICBLQ2l0eUltYWdlLFxuICBDaGljYWdvSW1hZ2UsXG4gIEFUTEltYWdlLFxuICBpbml0aWFsQ2FyZHMsXG4gIHZhbGlkYXRpb25Db25maWcsXG4gIG1vZGFsUHJvZmlsZUVkaXRCdG4sXG4gIG1vZGFsUHJvZmlsZUZvcm0sXG4gIG1vZGFsUHJvZmlsZVNhdmVCdG4sXG4gIG1vZGFsSW1hZ2VFZGl0QnRuLFxuICBtb2RhbEltYWdlRm9ybSxcbiAgbW9kYWxOYW1lLFxuICBtb2RhbEpvYixcbiAgbW9kYWxJbWFnZVRpdGxlLFxuICBtb2RhbEltYWdlTGluayxcbiAgbmV3UHJvZmlsZUltYWdlQnRuLFxuICBtb2RhbE5ld1BpY3R1cmUsXG4gIG5ld1Byb2ZpbGVQaWN0dXJlRm9ybSxcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRGVsZXRlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwRGVsZXRlXCI7XG5cbmxldCBjYXJkVG9EZWxldGU7XG5sZXQgcmVhZHlUb0RlbGV0ZTtcbmxldCBjYXJkQXJlYTtcbmxldCBsaWtlZENhcmQ7XG5cbi8vR2V0IGluaXRpYWwgY2FyZHMgYW5kIHVzZXIgaW5mbyBmcm9tIHNlcnZlclxuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYXBpQWRkcmVzczogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBhcGlIZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCIzNGJhNDEwYy1hNGY5LTQxODktOGQxZS00NTQ1NzQ5Yzg4ZTRcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG5jb25zdCBuZXdVc2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIHVzZXJOYW1lU2VsZWN0b3I6IFwiLmluZm9fX25hbWVcIixcbiAgdXNlckpvYlNlbGVjdG9yOiBcIi5pbmZvX19qb2ItdGl0bGVcIixcbiAgcHJvZmlsZVBpY3R1cmVTZWxlY3RvcjogXCIucHJvZmlsZV9fY2lyY2xlXCIsXG59KTtcblxuYXBpXG4gIC5sb2FkUGFnZVJlc3VsdHMoKVxuICAudGhlbigoW2NhcmRzLCB1c2VyRGF0YV0pID0+IHtcbiAgICBjYXJkQXJlYSA9IG5ldyBTZWN0aW9uKHsgaXRlbXM6IGNhcmRzLCByZW5kZXJlcjogY3JlYXRlQ2FyZCB9LCBcIi5lbGVtZW50c1wiKTtcbiAgICBjYXJkQXJlYS5yZW5kZXJJdGVtcygpO1xuICAgIGNvbnNvbGUubG9nKHVzZXJEYXRhKTtcbiAgICBuZXdVc2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICBuYW1lOiB1c2VyRGF0YS5uYW1lLFxuICAgICAgam9iOiB1c2VyRGF0YS5hYm91dCxcbiAgICB9KTtcbiAgICBuZXdVc2VySW5mby5zZXRVc2VyUGljdHVyZSh7IGF2YXRhcjogdXNlckRhdGEuYXZhdGFyIH0pO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfSk7XG5cbi8vQ3JlYXRlIGNhcmRzIGFuZCBoYW5kbGUgdGhlaXIgbGlrZSBhbmQgZGVsZXRlIGJ1dHRvbnNcblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChpdGVtKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBpdGVtLFxuICAgIFwiI2xvY2FsZUNhcmRcIixcbiAgICBvcGVuTW9kYWxJbWFnZSxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlXG4gICk7XG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xufVxuXG5jb25zdCBjYXJkUG9wT3V0ID0gbmV3IFBvcHVwV2l0aEltYWdlKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9pbWFnZS1wb3Atb3V0XCIsXG4gIGltYWdlU2VsZWN0b3I6IFwiLmNhcmRfX2ltYWdlX29wdGlvbl9wb3Atb3V0XCIsXG59KTtcblxuY2FyZFBvcE91dC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBkZWxldGVDYXJkTW9kYWwgPSBuZXcgUG9wdXBXaXRoRGVsZXRlKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9kZWxldGUtaW1hZ2VcIixcbiAgaGFuZGxlQnRuQ2xpY2s6ICgpID0+IHtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGNhcmRUb0RlbGV0ZS5kYXRhLl9pZClcbiAgICAgIC50aGVuKGNhcmRUb0RlbGV0ZS5kZWxldGVDYXJkKCkpXG4gICAgICAudGhlbihkZWxldGVDYXJkTW9kYWwuY2xvc2UoKSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseShkZWxldGVDYXJkTW9kYWwucmVuZGVyU2F2aW5nKGZhbHNlKSk7XG4gIH0sXG4gIGJ1dHRvblRleHQ6IFwiWWVzXCIsXG59KTtcblxuZGVsZXRlQ2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcbiAgY29uc29sZS5sb2coY2FyZCk7XG4gIGRlbGV0ZUNhcmRNb2RhbC5vcGVuKCk7XG4gIGNhcmRUb0RlbGV0ZSA9IGNhcmQ7XG4gIHJldHVybiBjYXJkVG9EZWxldGU7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2UoY2FyZCkge1xuICBpZiAoY2FyZC5kYXRhLmlzTGlrZWQgPT0gZmFsc2UpIHtcbiAgICBhcGlcbiAgICAgIC5hZGRMaWtlKGNhcmQuZGF0YS5faWQpXG4gICAgICAudGhlbigoY2FyZC5kYXRhLmlzTGlrZWQgPSB0cnVlKSlcbiAgICAgIC50aGVuKGNhcmQuX2NhcmRIZWFydC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9faGVhcnQtb3B0aW9uLWxpa2VkXCIpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgYXBpXG4gICAgICAucmVtb3ZlTGlrZShjYXJkLmRhdGEuX2lkKVxuICAgICAgLnRoZW4oKGNhcmQuZGF0YS5pc0xpa2VkID0gZmFsc2UpKVxuICAgICAgLnRoZW4oY2FyZC5fY2FyZEhlYXJ0LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19oZWFydC1vcHRpb24tbGlrZWRcIikpXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICB9KTtcbiAgfVxufVxuXG4vL0hhbmRsZSBlZGl0L2FkZCBidXR0b24gY2xpY2tzXG5cbm1vZGFsUHJvZmlsZUVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcHJvZmlsZU1vZGFsLm9wZW4oKTtcbiAgY29uc3QgZGF0YSA9IG5ld1VzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIGNvbnNvbGUubG9nKGRhdGEpO1xuICBtb2RhbE5hbWUudmFsdWUgPSBkYXRhLm5hbWU7XG4gIG1vZGFsSm9iLnZhbHVlID0gZGF0YS5qb2I7XG4gIGZvcm1WYWxpZGF0b3JzW1wiZWRpdFByb2ZpbGVcIl0ucmVzZXRWYWxpZGF0aW9uO1xufSk7XG5cbm5ld1Byb2ZpbGVJbWFnZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBuZXdQcm9maWxlUGljdHVyZU1vZGFsLm9wZW4oKTtcbn0pO1xuXG5tb2RhbEltYWdlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBuZXdJbWFnZU1vZGFsLm9wZW4oKTtcbn0pO1xuXG4vL0Zvcm0gYW5kIFBpY3R1cmUgTW9kYWxzXG5cbmNvbnN0IHByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9wcm9maWxlXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGZvcm1EYXRhKSB7XG4gICAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgICByZXR1cm4gYXBpLmVkaXRVc2VySW5mbyhmb3JtRGF0YSkudGhlbigodXNlckRhdGEpID0+IHtcbiAgICAgICAgbmV3VXNlckluZm8uc2V0VXNlckluZm8oeyBuYW1lOiB1c2VyRGF0YS5uYW1lLCBqb2I6IHVzZXJEYXRhLmFib3V0IH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZVN1Ym1pdChtYWtlUmVxdWVzdCwgcHJvZmlsZU1vZGFsKTtcbiAgfSxcbiAgYnV0dG9uVGV4dDogXCJTYXZlXCIsXG59KTtcblxuY29uc3QgbmV3UHJvZmlsZVBpY3R1cmVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9jaGFuZ2UtcHJvZmlsZS1waWN0dXJlXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVQaWN0dXJlU3VibWl0KGZvcm1EYXRhKSB7XG4gICAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgICByZXR1cm4gYXBpLmVkaXRVc2VyUHJvZmlsZVBpY3R1cmUoZm9ybURhdGEpLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gICAgICAgIG5ld1VzZXJJbmZvLnNldFVzZXJQaWN0dXJlKHsgYXZhdGFyOiB1c2VyRGF0YS5hdmF0YXIgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBuZXdQcm9maWxlUGljdHVyZU1vZGFsKTtcbiAgfSxcbiAgYnV0dG9uVGV4dDogXCJTYXZlXCIsXG59KTtcblxuZnVuY3Rpb24gaGFuZGxlTmV3UGxhY2VTdWJtaXQoZm9ybURhdGEpIHtcbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIGFwaVxuICAgICAgLmFkZE5ld0NhcmQoZm9ybURhdGEpXG4gICAgICAudGhlbigoY2FyZERhdGEpID0+IHtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKChhZGRlZENhcmQpID0+IGNhcmRBcmVhLmFkZEl0ZW0oYWRkZWRDYXJkKSlcbiAgICAgIC50aGVuKG1vZGFsSW1hZ2VGb3JtLnJlc2V0KCkpXG4gICAgICAudGhlbihmb3JtVmFsaWRhdG9yc1tcIm5ld1BsYWNlXCJdLnRvZ2dsZUJ1dHRvblN0YXRlKCkpO1xuICB9XG4gIGhhbmRsZVN1Ym1pdChtYWtlUmVxdWVzdCwgbmV3SW1hZ2VNb2RhbCk7XG59XG5cbmNvbnN0IG5ld0ltYWdlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiLm1vZGFsX3R5cGVfbmV3LWltYWdlXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZU5ld1BsYWNlU3VibWl0KGZvcm1EYXRhKSB7XG4gICAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgICByZXR1cm4gYXBpXG4gICAgICAgIC5hZGROZXdDYXJkKGZvcm1EYXRhKVxuICAgICAgICAudGhlbigoY2FyZERhdGEpID0+IHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlQ2FyZChjYXJkRGF0YSk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChhZGRlZENhcmQpID0+IGNhcmRBcmVhLmFkZEl0ZW0oYWRkZWRDYXJkKSlcbiAgICAgICAgLnRoZW4obW9kYWxJbWFnZUZvcm0ucmVzZXQoKSlcbiAgICAgICAgLnRoZW4oZm9ybVZhbGlkYXRvcnNbXCJuZXdQbGFjZVwiXS50b2dnbGVCdXR0b25TdGF0ZSgpKTtcbiAgICB9XG4gICAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBuZXdJbWFnZU1vZGFsKTtcbiAgfSxcbiAgYnV0dG9uVGV4dDogXCJDcmVhdGVcIixcbn0pO1xuXG5wcm9maWxlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbm5ld0ltYWdlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbm5ld1Byb2ZpbGVQaWN0dXJlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gb3Blbk1vZGFsSW1hZ2UoY2FyZCkge1xuICBjYXJkUG9wT3V0Lm9wZW4oY2FyZC5kYXRhLm5hbWUsIGNhcmQuZGF0YS5saW5rKTtcbn1cblxuLy9Vbml2ZXJzYWwgc3VibWl0IGhhbmRsZXJcblxuZnVuY3Rpb24gaGFuZGxlU3VibWl0KHJlcXVlc3QsIHBvcHVwSW5zdGFuY2UsIHNhdmluZ1RleHQgPSBcIlNhdmluZy4uLlwiKSB7XG4gIHBvcHVwSW5zdGFuY2UucmVuZGVyU2F2aW5nKHRydWUsIHNhdmluZ1RleHQpO1xuICByZXF1ZXN0KClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBwb3B1cEluc3RhbmNlLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBwb3B1cEluc3RhbmNlLnJlbmRlclNhdmluZyhmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qIGVuYWJsZSBWYWxpZGF0aW9uICovXG5cbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XG5cbmNvbnN0IGVuYWJsZVZhbGlkYXRpb24gPSAodmFsaWRhdGlvbkNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmZvcm1TZWxlY3RvcilcbiAgKTtcbiAgZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudCk7XG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5cbmVuYWJsZVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGFwaUFkZHJlc3MsIGFwaUhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2FwaUFkZHJlc3MgPSBhcGlBZGRyZXNzO1xuICAgIHRoaXMuX2FwaUhlYWRlcnMgPSBhcGlIZWFkZXJzO1xuICB9XG5cbiAgX3NlcnZlclJlcXVlc3QodXJsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZldGNoKHVybCwgb3B0aW9ucykudGhlbih0aGlzLnJlbmRlclJlc3VsdCk7XG4gIH1cblxuICByZW5kZXJSZXN1bHQocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclJlcXVlc3QoYCR7dGhpcy5fYXBpQWRkcmVzc30vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9hcGlIZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgZmV0Y2hVc2VySW5mbygpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyUmVxdWVzdChgJHt0aGlzLl9hcGlBZGRyZXNzfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2FwaUhlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBlZGl0VXNlckluZm8obmV3VXNlcklucHV0KSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclJlcXVlc3QoYCR7dGhpcy5fYXBpQWRkcmVzc30vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2FwaUhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IG5ld1VzZXJJbnB1dC5uYW1lLFxuICAgICAgICBhYm91dDogbmV3VXNlcklucHV0LmpvYixcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgZWRpdFVzZXJQcm9maWxlUGljdHVyZShuZXdVc2VyTGluaykge1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJSZXF1ZXN0KGAke3RoaXMuX2FwaUFkZHJlc3N9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5fYXBpSGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBuZXdVc2VyTGluay5hdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGFkZE5ld0NhcmQobmV3Q2FyZElucHV0KSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclJlcXVlc3QoYCR7dGhpcy5fYXBpQWRkcmVzc30vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5fYXBpSGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmV3Q2FyZElucHV0Lm5hbWUsXG4gICAgICAgIGxpbms6IG5ld0NhcmRJbnB1dC5saW5rLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJSZXF1ZXN0KGAke3RoaXMuX2FwaUFkZHJlc3N9L2NhcmRzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2FwaUhlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBhZGRMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJSZXF1ZXN0KGAke3RoaXMuX2FwaUFkZHJlc3N9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2FwaUhlYWRlcnMsXG4gICAgICAvKlxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBpc0xpa2VkOiB0cnVlIH0pLFxuICAgICAgKi9cbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclJlcXVlc3QoYCR7dGhpcy5fYXBpQWRkcmVzc30vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5fYXBpSGVhZGVycyxcbiAgICAgIC8qXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGlzTGlrZWQ6IGZhbHNlIH0pLFxuICAgICAgKi9cbiAgICB9KTtcbiAgfVxuXG4gIGNoZWNrQ2FyZHNTdGF0dXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclJlcXVlc3QoYCR7dGhpcy5fYXBpQWRkcmVzc30vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9hcGlIZWFkZXJzLFxuICAgIH0pO1xuICB9XG5cbiAgbG9hZFBhZ2VSZXN1bHRzKCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRJbml0aWFsQ2FyZHMoKSwgdGhpcy5mZXRjaFVzZXJJbmZvKCldKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lU2VsZWN0b3IsIHVzZXJKb2JTZWxlY3RvciwgcHJvZmlsZVBpY3R1cmVTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fdXNlck5hbWVTZWxlY3RvciA9IHVzZXJOYW1lU2VsZWN0b3I7XG4gICAgdGhpcy5fdXNlckpvYlNlbGVjdG9yID0gdXNlckpvYlNlbGVjdG9yO1xuICAgIHRoaXMuX3VzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VySm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VySm9iU2VsZWN0b3IpO1xuICAgIHRoaXMuX3VzZXJQcm9maWxlUGljdHVyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZVBpY3R1cmVTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQsXG4gICAgICAvKlxuICAgICAgYXZhdGFyOiB0aGlzLl91c2VyUHJvZmlsZVBpY3R1cmUuc3JjLFxuICAgICAgKi9cbiAgICB9O1xuICB9XG5cbiAgZ2V0VXNlclBpY3R1cmVMaW5rKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhdmF0YXI6IHRoaXMuX3VzZXJQcm9maWxlUGljdHVyZS5zcmMsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl91c2VySm9iLnRleHRDb250ZW50ID0gZGF0YS5qb2I7XG4gICAgLypcbiAgICB0aGlzLl91c2VyUHJvZmlsZVBpY3R1cmUuc3JjID0gZGF0YS5hdmF0YXI7XG4gICAgKi9cbiAgfVxuXG4gIHNldFVzZXJQaWN0dXJlKGRhdGEpIHtcbiAgICB0aGlzLl91c2VyUHJvZmlsZVBpY3R1cmUuc3JjID0gZGF0YS5hdmF0YXI7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBpbWFnZVNlbGVjdG9yIH0pIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fcG9wdXBNb2RhbEltYWdlID0gdGhpcy5fcG9wdXBNb2RhbC5xdWVyeVNlbGVjdG9yKGltYWdlU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwTW9kYWxDYXB0aW9uID0gdGhpcy5fcG9wdXBNb2RhbC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuY2FyZF9fcG9wLW91dF9jYXB0aW9uXCJcbiAgICApO1xuICB9XG5cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgdGhpcy5fcG9wdXBNb2RhbEltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fcG9wdXBNb2RhbEltYWdlLmFsdCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBNb2RhbENhcHRpb24udGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aERlbGV0ZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBoYW5kbGVCdG5DbGljaywgYnV0dG9uVGV4dCB9KSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX2J1dHRvblRleHQgPSBidXR0b25UZXh0O1xuICAgIHRoaXMuX2hhbmRsZUJ0bkNsaWNrID0gaGFuZGxlQnRuQ2xpY2s7XG4gICAgdGhpcy5fbW9kYWxGb3JtID0gdGhpcy5fcG9wdXBNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb250YWluZXJcIik7XG4gICAgdGhpcy5fc3VibWl0QnRuID0gdGhpcy5fbW9kYWxGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIpO1xuICAgIHRoaXMuc3VibWl0QnRuVGV4dCA9IHRoaXMuX3N1Ym1pdEJ0bi50ZXh0Q29udGVudDtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLnJlbmRlclNhdmluZyh0cnVlKTtcbiAgICAgIHRoaXMuX2hhbmRsZUJ0bkNsaWNrKCk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHJlbmRlclNhdmluZyhpc1NhdmluZywgc2F2aW5nVGV4dCA9IFwiRGVsZXRpbmcuLi5cIikge1xuICAgIGlmIChpc1NhdmluZykge1xuICAgICAgdGhpcy5fc3VibWl0QnRuVGV4dCA9IHNhdmluZ1RleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0blRleHQgPSB0aGlzLl9idXR0b25UZXh0O1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIm8iLCJvYmoiLCJwcm9wIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicCIsImIiLCJkb2N1bWVudCIsImJhc2VVUkkiLCJzZWxmIiwibG9jYXRpb24iLCJocmVmIiwiVVJMIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsIm1vZGFsUHJvZmlsZSIsInF1ZXJ5U2VsZWN0b3IiLCJtb2RhbFByb2ZpbGVFZGl0QnRuIiwibW9kYWxJbWFnZSIsIm1vZGFsSW1hZ2VFZGl0QnRuIiwibW9kYWxJbWFnZUZvcm0iLCJtb2RhbE5hbWUiLCJtb2RhbEpvYiIsIm5ld1Byb2ZpbGVJbWFnZUJ0biIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQnRuIiwiaGFuZGxlTGlrZUJ0biIsInRoaXMiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQnRuIiwiX2hhbmRsZUxpa2VCdG4iLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZFRlbXBsYXRlIiwiY29udGVudCIsImNsb25lTm9kZSIsImdlbmVyYXRlQ2FyZCIsIl9jYXJkRWxlbWVudCIsIl9jYXJkSGVhcnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJzcmMiLCJsaW5rIiwiYWx0IiwiaXNMaWtlZCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImNhcmREZWxldGVCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwiZGVsZXRlQ2FyZCIsImNvbnNvbGUiLCJsb2ciLCJGb3JtVmFsaWRhdG9yIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm0iLCJfdmFsaWRhdGlvbkNvbmZpZyIsIl9mb3JtIiwiX2lucHV0TGlzdCIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2Rpc2FibGVCdXR0b24iLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfZW5hYmxlQnV0dG9uIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfaGFzSW52YWxpZElucHV0IiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiX2Vycm9yRWxlbWVudCIsImlkIiwiZXJyb3JNZXNzYWdlU2VsZWN0b3JTdWZmaXgiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiZm9ybUVsZW1lbnQiLCJyZXNldFZhbGlkYXRpb24iLCJlbmFibGVWYWxpZGF0aW9uIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJfZWxlbWVudCIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cE1vZGFsIiwiX3BvcHVwTW9kYWxDbG9zZUJ0biIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJvcGVuIiwiX2FkZEVzY0V2ZW50TGlzdGVuZXIiLCJjbG9zZSIsIl9yZW1vdmVFc2NFdmVudExpc3RlbmVyIiwia2V5IiwiX2hhbmRsZVJlbW90ZUNsaWNrIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInNldEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0IiwiYnV0dG9uVGV4dCIsInN1cGVyIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfYnV0dG9uVGV4dCIsIl9tb2RhbEZvcm0iLCJfbW9kYWxJbnB1dHMiLCJfc3VibWl0QnRuIiwic3VibWl0QnRuVGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsImZvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwiaW5wdXRWYWx1ZXMiLCJyZW5kZXJTYXZpbmciLCJpc1NhdmluZyIsInNhdmluZ1RleHQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJfc3VibWl0QnRuVGV4dCIsImNhcmRUb0RlbGV0ZSIsImNhcmRBcmVhIiwiYXBpIiwiYXBpQWRkcmVzcyIsImFwaUhlYWRlcnMiLCJfYXBpQWRkcmVzcyIsIl9hcGlIZWFkZXJzIiwiX3NlcnZlclJlcXVlc3QiLCJ1cmwiLCJvcHRpb25zIiwiZmV0Y2giLCJ0aGVuIiwicmVuZGVyUmVzdWx0IiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImhlYWRlcnMiLCJmZXRjaFVzZXJJbmZvIiwiZWRpdFVzZXJJbmZvIiwibmV3VXNlcklucHV0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhYm91dCIsImpvYiIsImVkaXRVc2VyUHJvZmlsZVBpY3R1cmUiLCJuZXdVc2VyTGluayIsImF2YXRhciIsImFkZE5ld0NhcmQiLCJuZXdDYXJkSW5wdXQiLCJjYXJkSWQiLCJhZGRMaWtlIiwicmVtb3ZlTGlrZSIsImNoZWNrQ2FyZHNTdGF0dXMiLCJsb2FkUGFnZVJlc3VsdHMiLCJhbGwiLCJhdXRob3JpemF0aW9uIiwibmV3VXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckpvYlNlbGVjdG9yIiwicHJvZmlsZVBpY3R1cmVTZWxlY3RvciIsIl91c2VyTmFtZVNlbGVjdG9yIiwiX3VzZXJKb2JTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VySm9iIiwiX3VzZXJQcm9maWxlUGljdHVyZSIsImdldFVzZXJJbmZvIiwiZ2V0VXNlclBpY3R1cmVMaW5rIiwic2V0VXNlckluZm8iLCJzZXRVc2VyUGljdHVyZSIsImNyZWF0ZUNhcmQiLCJvcGVuTW9kYWxJbWFnZSIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZSIsImNhcmRzIiwidXNlckRhdGEiLCJjYXRjaCIsImVyciIsImVycm9yIiwiY2FyZFBvcE91dCIsImltYWdlU2VsZWN0b3IiLCJfcG9wdXBNb2RhbEltYWdlIiwiX3BvcHVwTW9kYWxDYXB0aW9uIiwiZGVsZXRlQ2FyZE1vZGFsIiwiaGFuZGxlQnRuQ2xpY2siLCJfaGFuZGxlQnRuQ2xpY2siLCJfaWQiLCJmaW5hbGx5IiwiY2FyZCIsInRvZ2dsZSIsInByb2ZpbGVNb2RhbCIsImZvcm1WYWxpZGF0b3JzIiwibmV3UHJvZmlsZVBpY3R1cmVNb2RhbCIsIm5ld0ltYWdlTW9kYWwiLCJmb3JtRGF0YSIsImhhbmRsZVN1Ym1pdCIsImNhcmREYXRhIiwiYWRkZWRDYXJkIiwicmVxdWVzdCIsInBvcHVwSW5zdGFuY2UiLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSJdLCJzb3VyY2VSb290IjoiIn0=