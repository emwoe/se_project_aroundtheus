!function(){"use strict";var e={498:function(e,t,r){e.exports=r.p+"f44d4bda95b365b93115.jpg"},460:function(e,t,r){e.exports=r.p+"70dde39c90b527ec62b2.jpg"},338:function(e,t,r){e.exports=r.p+"b3dd0fefea7f7de0e25b.jpg"},775:function(e,t,r){e.exports=r.p+"1c08a42a1ca45d1746f3.jpg"},291:function(e,t,r){e.exports=r.p+"b87c022f67fef0740657.jpg"},182:function(e,t,r){e.exports=r.p+"125bf2b043e25dddbfe2.jpg"}},t={};function r(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s](i,i.exports,r),i.exports}r.m=e,r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.b=document.baseURI||self.location.href,function(){new URL(r(460),r.b),new URL(r(291),r.b),new URL(r(182),r.b),new URL(r(775),r.b),new URL(r(338),r.b),new URL(r(498),r.b),Array.from(document.querySelectorAll(".form"));const e=document.querySelector(".modal_type_profile"),t=document.querySelector(".info__button"),s=(e.querySelector(".modal__close-button"),e.querySelector(".modal__container"),e.querySelector(".modal__save-button"),document.querySelector(".modal_type_new-image")),o=document.querySelector(".profile__button"),i=(s.querySelector(".modal__close-button"),s.querySelector(".modal__container")),n=(document.querySelector(".info__name"),document.querySelector("#name"),document.querySelector(".info__job-title"),document.querySelector("#job-description"),document.querySelector(".profile__sheer-hover"));document.querySelector(".modal_type_change-profile-picture").querySelector(".modal__container"),document.querySelector("#title"),document.querySelector("#image-link"),document.querySelectorAll(".card__image"),document.querySelector(".modal__wrapper_type_image-pop-out"),document.querySelector(".modal__close-button_type-image-pop-out"),document.querySelector(".card__pop-out_caption");class a{constructor(e,t,r,s,o){this._cardSelector=t,this.data=e,this._handleImageClick=r,this._handleDeleteBtn=s,this._handleLikeBtn=o}_getTemplate(){return this._cardTemplate=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardTemplate}generateCard(){return this._cardElement=this._getTemplate(),this._cardHeart=this._cardElement.querySelector(".card__heart"),this._setEventListeners(),this._cardElement.querySelector(".card__name").textContent=this.data.name,this._cardElement.querySelector(".card__image").src=this.data.link,this._cardElement.querySelector(".card__image").alt=this.data.name,1==this.data.isLiked?this._cardHeart.classList.add("card__heart-option-liked"):this._cardHeart.classList.remove("card__heart-option-liked"),this._cardElement}getID(){return this.data._id}_setEventListeners(){const e=this._cardElement.querySelector(".card__delete-btn");this._cardHeart.addEventListener("click",(()=>{this._handleLikeBtn(this)})),e.addEventListener("click",(()=>{this._handleDeleteBtn(this)})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this._handleImageClick(this)}))}toggleHeart(){this._cardHeart.classList.toggle("card__heart-option-liked")}deleteCard(){console.log(this),this._cardElement.remove()}}class l{constructor(e,t){this._validationConfig=e,this._form=t,this._inputList=Array.from(this._form.querySelectorAll(this._validationConfig.inputSelector)),this._buttonElement=this._form.querySelector(this._validationConfig.submitButtonSelector)}_disableButton(){this._buttonElement.classList.add(this._validationConfig.inactiveButtonClass),this._buttonElement.disabled=!0}_enableButton(){this._buttonElement.classList.remove(this._validationConfig.inactiveButtonClass),this._buttonElement.disabled=!1}toggleButtonState(){this._hasInvalidInput(this._inputList)?this._disableButton():this._enableButton()}_setEventListeners(){this._disableButton(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{console.log("Input made!"),console.log(e),this._checkInputValidity(e),this.toggleButtonState()}))}))}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_checkInputValidity(e){e.validity.valid?this._hideInputError(e,this._form,this._validationConfig):this._showInputError(e,this._form,e.validationMessage,this._validationConfig)}_showInputError(e,t,r,s){this._errorElement=this._form.querySelector(`.${e.id}${this._validationConfig.errorMessageSelectorSuffix}`),e.classList.add(this._validationConfig.inputErrorClass),this._errorElement.textContent=r,this._errorElement.classList.add(this._validationConfig.errorClass)}_hideInputError(e,t,r){e.classList.remove(this._validationConfig.inputErrorClass),this._errorElement=this._form.querySelector(`.${e.id}${this._validationConfig.errorMessageSelectorSuffix}`),this._errorElement.classList.remove(this._validationConfig.errorClass),this._errorElement.textContent=""}resetValidation(){this._disableButton(),this._inputList.forEach((e=>{this._hideInputError(e)}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class d{constructor(e,t){let{items:r,renderer:s}=e;this._items=r,this._renderer=s,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._element=this._renderer(e),this.addItem(this._element)}))}addItem(e){this._container.prepend(e)}}class c{constructor(e){let{popupSelector:t}=e;this._popupModal=document.querySelector(t),this._popupModalCloseBtn=this._popupModal.querySelector(".modal__close-button"),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._addEscEventListener(),this._popupModal.classList.add("modal_opened")}close(){this._popupModal.classList.remove("modal_opened"),this._removeEscEventListener()}_handleEscClose(e){"Escape"===e.key&&this.close()}_handleRemoteClick(e){e.target===e.currentTarget&&(console.log(e.target),this.close())}setEventListeners(){this._popupModalCloseBtn.addEventListener("click",(()=>{this.close()})),this._popupModal.addEventListener("click",this._handleRemoteClick.bind(this))}_addEscEventListener(){document.addEventListener("keydown",this._handleEscClose,!1),console.log("Listener added!")}_removeEscEventListener(){document.removeEventListener("keydown",this._handleEscClose,!1),console.log("Listener removed!")}}class u extends c{constructor(e){let{popupSelector:t,handleFormSubmit:r,buttonText:s}=e;super({popupSelector:t}),this._handleFormSubmit=r,this._buttonText=s,this._modalForm=this._popupModal.querySelector(".modal__container"),this._modalInputs=this._popupModal.querySelectorAll(".modal__input"),this._submitBtn=this._modalForm.querySelector(".modal__save-button"),this.submitBtnText=this._submitBtn.textContent}_getInputValues(){const e={};return this._modalInputs.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._modalInputs.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){this._modalForm.addEventListener("submit",(e=>{e.preventDefault();const t=this._getInputValues();this.renderSaving(!0),this._handleFormSubmit(t)})),super.setEventListeners()}renderSaving(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...";this._submitBtnText=e?t:this._buttonText}}let _,h,p;const m=new class{constructor(e){let{apiAddress:t,apiHeaders:r}=e;this._apiAddress=t,this._apiHeaders=r}_serverRequest(e,t){return fetch(e,t).then(this.renderResult)}renderResult(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return this._serverRequest(`${this._apiAddress}/cards`,{headers:this._apiHeaders})}fetchUserInfo(){return this._serverRequest(`${this._apiAddress}/users/me`,{headers:this._apiHeaders})}editUserInfo(e){return this._serverRequest(`${this._apiAddress}/users/me`,{method:"PATCH",headers:this._apiHeaders,body:JSON.stringify({name:e.name,about:e.job})})}editUserProfilePicture(e){return this._serverRequest(`${this._apiAddress}/users/me/avatar`,{method:"PATCH",headers:this._apiHeaders,body:JSON.stringify({avatar:e.avatar})})}addNewCard(e){return this._serverRequest(`${this._apiAddress}/cards`,{method:"POST",headers:this._apiHeaders,body:JSON.stringify({name:e.name,link:e.link})})}deleteCard(e){return this._serverRequest(`${this._apiAddress}/cards/${e}`,{method:"DELETE",headers:this._apiHeaders})}addLike(e){return this._serverRequest(`${this._apiAddress}/cards/${e}/likes`,{method:"PUT",headers:this._apiHeaders})}removeLike(e){return this._serverRequest(`${this._apiAddress}/cards/${e}/likes`,{method:"DELETE",headers:this._apiHeaders})}checkCardsStatus(){return this._serverRequest(`${this._apiAddress}/cards`,{headers:this._apiHeaders})}loadPageResults(){return Promise.all([this.getInitialCards(),this.fetchUserInfo()])}}({apiAddress:"https://around-api.en.tripleten-services.com/v1",apiHeaders:{authorization:"34ba410c-a4f9-4189-8d1e-4545749c88e4","Content-Type":"application/json"}}),v=new class{constructor(e){let{userNameSelector:t,userJobSelector:r,profilePictureSelector:s}=e;this._userNameSelector=t,this._userJobSelector=r,this._userName=document.querySelector(t),this._userJob=document.querySelector(r),this._userProfilePicture=document.querySelector(s)}getUserInfo(){return{name:this._userName.textContent,job:this._userJob.textContent}}getUserPictureLink(){return{avatar:this._userProfilePicture.src}}setUserInfo(e){this._userName.textContent=e.name,this._userJob.textContent=e.job}setUserPicture(e){this._userProfilePicture.src=e.avatar}}({userNameSelector:".info__name",userJobSelector:".info__job-title",profilePictureSelector:".profile__circle"});function f(e){return new a(e,"#localeCard",q,b,E).generateCard()}m.loadPageResults().then((e=>{let[t,r]=e;h=new d({items:t,renderer:f},".elements"),h.renderItems(),console.log(r),v.setUserInfo({name:r.name,job:r.about}),v.setUserPicture({avatar:r.avatar})})).catch((e=>{console.error(e)}));const S=new class extends c{constructor(e){let{popupSelector:t,imageSelector:r}=e;super({popupSelector:t}),this._popupModalImage=this._popupModal.querySelector(r),this._popupModalCaption=this._popupModal.querySelector(".card__pop-out_caption")}open(e,t){this._popupModalImage.src=t,this._popupModalImage.alt=e,this._popupModalCaption.textContent=e,super.open()}}({popupSelector:".modal_type_image-pop-out",imageSelector:".card__image_option_pop-out"});S.setEventListeners();const g=new class extends c{constructor({popupSelector:e,handleBtnClick:t,buttonText:r}){super({popupSelector:e}),this._buttonText=r,this._handleBtnClick=t,this._modalForm=this._popupModal.querySelector(".modal__container"),this._submitBtn=this._modalForm.querySelector(".modal__save-button"),this.submitBtnText=this._submitBtn.textContent}setEventListeners(){this._submitBtn.addEventListener("click",(e=>{e.preventDefault(),this.renderSaving(!0),this._handleBtnClick()})),super.setEventListeners()}renderSaving(e,t="Deleting..."){this._submitBtnText=e?t:this._buttonText}}({popupSelector:".modal_type_delete-image",handleBtnClick:()=>{m.deleteCard(_.data._id).then((()=>_.deleteCard())).then((()=>g.close())).catch((e=>{console.error(e)})).finally((()=>g.renderSaving(!1)))},buttonText:"Yes"});function b(e){return console.log(e),g.open(),_=e,_}function E(e){p=e.getID(),0==e.data.isLiked?m.addLike(p).then(e.data.isLiked=!0).then((()=>e.toggleHeart())).catch((e=>{console.error(e)})):m.removeLike(p).then(e.data.isLiked=!1).then((()=>e.toggleHeart())).catch((e=>{console.error(e)}))}g.setEventListeners(),t.addEventListener("click",(()=>{y.open();const e=v.getUserInfo();y.setInputValues(e),I.editProfile.resetValidation})),n.addEventListener("click",(()=>{L.open()})),o.addEventListener("click",(()=>{C.open()}));const y=new u({popupSelector:".modal_type_profile",handleFormSubmit:function(e){k((function(){return m.editUserInfo(e).then((e=>{v.setUserInfo({name:e.name,job:e.about})}))}),y)},buttonText:"Save"}),L=new u({popupSelector:".modal_type_change-profile-picture",handleFormSubmit:function(e){k((function(){return m.editUserProfilePicture(e).then((e=>{v.setUserPicture({avatar:e.avatar})}))}),L)},buttonText:"Save"}),C=new u({popupSelector:".modal_type_new-image",handleFormSubmit:function(e){k((function(){return m.addNewCard(e).then((e=>f(e))).then((e=>h.addItem(e))).then((()=>i.reset())).then((()=>I.newPlace.toggleButtonState()))}),C)},buttonText:"Create"});function q(e){S.open(e.data.name,e.data.link)}function k(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Saving...";t.renderSaving(!0,r),e().then((()=>{t.close()})).catch((e=>console.log(e))).finally((()=>{t.renderSaving(!1)}))}y.setEventListeners(),C.setEventListeners(),L.setEventListeners();const I={};var x;x={formSelector:".form",inputSelector:".modal__input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__button_inactive",inputErrorClass:"modal__input_type_error",errorClass:"modal__input-error_active",errorMessageSelectorSuffix:"-input-error"},Array.from(document.querySelectorAll(x.formSelector)).forEach((e=>{const t=new l(x,e),r=e.getAttribute("name");I[r]=t,t.enableValidation()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkMsV0FBWSw0QkFDWkYsMkJBQTRCLGdCTW1LWDNFLE1BQU1DLEtBQ3JCUCxTQUFTUSxpQkFBaUIrQyxFQUFpQjJLLGVBRXBDN0osU0FBU2UsSUFDaEIsTUFBTStJLEVBQVksSUFBSTdLLEVBQWNDLEVBQWtCNkIsR0FDaERnSixFQUFXaEosRUFBWWlKLGFBQWEsUUFDMUNiLEVBQWVZLEdBQVlELEVBQzNCQSxFQUFVN0ksa0JBQWtCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsImV4cG9ydCBjb25zdCBBdXN0aW5JbWFnZSA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzL2NhcmQtaW1hZ2VzL0F1c3Rpbi5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuZXhwb3J0IGNvbnN0IE5ZQ0ltYWdlID0gbmV3IFVSTChcbiAgXCIuLi9pbWFnZXMvY2FyZC1pbWFnZXMvTmV3WW9yay5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuZXhwb3J0IGNvbnN0IFNhbkZyYW5JbWFnZSA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzL2NhcmQtaW1hZ2VzL1NhbkZyYW4uanBnXCIsXG4gIGltcG9ydC5tZXRhLnVybFxuKTtcbmV4cG9ydCBjb25zdCBLQ2l0eUltYWdlID0gbmV3IFVSTChcbiAgXCIuLi9pbWFnZXMvY2FyZC1pbWFnZXMvS2Fuc2FzQ2l0eS5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuZXhwb3J0IGNvbnN0IENoaWNhZ29JbWFnZSA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzL2NhcmQtaW1hZ2VzL0NoaWNhZ28uanBnXCIsXG4gIGltcG9ydC5tZXRhLnVybFxuKTtcbmV4cG9ydCBjb25zdCBBVExJbWFnZSA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzL2NhcmQtaW1hZ2VzL0F0bGFudGEuanBnXCIsXG4gIGltcG9ydC5tZXRhLnVybFxuKTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6IFwiQXVzdGluXCIsXG4gICAgbGluazogQXVzdGluSW1hZ2UsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIk5ldyBZb3JrXCIsXG4gICAgbGluazogTllDSW1hZ2UsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIlNhbiBGcmFuY2lzY29cIixcbiAgICBsaW5rOiBTYW5GcmFuSW1hZ2UsXG4gIH0sXG5cbiAge1xuICAgIG5hbWU6IFwiS2Fuc2FzIENpdHlcIixcbiAgICBsaW5rOiBLQ2l0eUltYWdlLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJDaGljYWdvXCIsXG4gICAgbGluazogQ2hpY2Fnb0ltYWdlLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJBdGxhbnRhXCIsXG4gICAgbGluazogQVRMSW1hZ2UsXG4gIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmUtYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9pbmFjdGl2ZVwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXG4gIGVycm9yTWVzc2FnZVNlbGVjdG9yU3VmZml4OiBcIi1pbnB1dC1lcnJvclwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1cIikpO1xuZXhwb3J0IGNvbnN0IG1vZGFsUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9wcm9maWxlXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsUHJvZmlsZUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmluZm9fX2J1dHRvblwiKTtcbmV4cG9ydCBjb25zdCBtb2RhbFByb2ZpbGVDbG9zZUJ0biA9IG1vZGFsUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCJcbik7XG5leHBvcnQgY29uc3QgbW9kYWxQcm9maWxlRm9ybSA9IG1vZGFsUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb250YWluZXJcIik7XG5leHBvcnQgY29uc3QgbW9kYWxQcm9maWxlU2F2ZUJ0biA9IG1vZGFsUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fc2F2ZS1idXR0b25cIlxuKTtcblxuZXhwb3J0IGNvbnN0IG1vZGFsSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX3R5cGVfbmV3LWltYWdlXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsSW1hZ2VFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b25cIik7XG5leHBvcnQgY29uc3QgbW9kYWxJbWFnZUNsb3NlQnRuID0gbW9kYWxJbWFnZS5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCJcbik7XG5leHBvcnQgY29uc3QgbW9kYWxJbWFnZUZvcm0gPSBtb2RhbEltYWdlLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NvbnRhaW5lclwiKTtcblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbmZvX19uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbmZvX19qb2ItdGl0bGVcIik7XG5leHBvcnQgY29uc3QgbW9kYWxKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2pvYi1kZXNjcmlwdGlvblwiKTtcbmV4cG9ydCBjb25zdCBuZXdQcm9maWxlSW1hZ2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5wcm9maWxlX19zaGVlci1ob3ZlclwiXG4pO1xuZXhwb3J0IGNvbnN0IG1vZGFsTmV3UGljdHVyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLm1vZGFsX3R5cGVfY2hhbmdlLXByb2ZpbGUtcGljdHVyZVwiXG4pO1xuZXhwb3J0IGNvbnN0IG5ld1Byb2ZpbGVQaWN0dXJlRm9ybSA9XG4gIG1vZGFsTmV3UGljdHVyZS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb250YWluZXJcIik7XG5cbmV4cG9ydCBjb25zdCBtb2RhbEltYWdlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3RpdGxlXCIpO1xuZXhwb3J0IGNvbnN0IG1vZGFsSW1hZ2VMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZS1saW5rXCIpO1xuXG5leHBvcnQgY29uc3QgY2FyZEltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2FyZF9faW1hZ2VcIik7XG5cbmV4cG9ydCBjb25zdCBjYXJkSW1hZ2VQb3BPdXRXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgXCIubW9kYWxfX3dyYXBwZXJfdHlwZV9pbWFnZS1wb3Atb3V0XCJcbik7XG5leHBvcnQgY29uc3QgY2FyZEltYWdlUG9wT3V0Q2xvc2VCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uX3R5cGUtaW1hZ2UtcG9wLW91dFwiXG4pO1xuZXhwb3J0IGNvbnN0IGNhcmRJbWFnZVBvcE91dENhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5jYXJkX19wb3Atb3V0X2NhcHRpb25cIlxuKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUJ0bixcbiAgICBoYW5kbGVMaWtlQnRuXG4gICkge1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ0biA9IGhhbmRsZURlbGV0ZUJ0bjtcbiAgICB0aGlzLl9oYW5kbGVMaWtlQnRuID0gaGFuZGxlTGlrZUJ0bjtcbiAgfVxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgICByZXR1cm4gdGhpcy5fY2FyZFRlbXBsYXRlO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9jYXJkSGVhcnQgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2hlYXJ0XCIpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19uYW1lXCIpLnRleHRDb250ZW50ID0gdGhpcy5kYXRhLm5hbWU7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKS5zcmMgPSB0aGlzLmRhdGEubGluaztcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpLmFsdCA9IHRoaXMuZGF0YS5uYW1lO1xuICAgIGlmICh0aGlzLmRhdGEuaXNMaWtlZCA9PSB0cnVlKSB7XG4gICAgICB0aGlzLl9jYXJkSGVhcnQuY2xhc3NMaXN0LmFkZChcImNhcmRfX2hlYXJ0LW9wdGlvbi1saWtlZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fY2FyZEhlYXJ0LmNsYXNzTGlzdC5yZW1vdmUoXCJjYXJkX19oZWFydC1vcHRpb24tbGlrZWRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xuICB9XG5cbiAgZ2V0SUQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YS5faWQ7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgY29uc3QgY2FyZERlbGV0ZUJ0biA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ0blwiKTtcblxuICAgIHRoaXMuX2NhcmRIZWFydC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ0bih0aGlzKTtcbiAgICB9KTtcblxuICAgIGNhcmREZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ0bih0aGlzKTtcbiAgICB9KTtcbiAgICBjb25zdCBjYXJkSW1hZ2VFbGVtZW50ID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICBjYXJkSW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgdG9nZ2xlSGVhcnQoKSB7XG4gICAgdGhpcy5fY2FyZEhlYXJ0LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19oZWFydC1vcHRpb24tbGlrZWRcIik7XG4gIH1cblxuICBkZWxldGVDYXJkKCkge1xuICAgIGNvbnNvbGUubG9nKHRoaXMpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybSkge1xuICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcgPSB2YWxpZGF0aW9uQ29uZmlnO1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yKVxuICAgICk7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgX2Rpc2FibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFxuICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzXG4gICAgKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIF9lbmFibGVCdXR0b24oKSB7XG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFxuICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzXG4gICAgKTtcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJJbnB1dCBtYWRlIVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XG5cbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKFxuICAgICAgICBpbnB1dEVsZW1lbnQsXG4gICAgICAgIHRoaXMuX2Zvcm0sXG4gICAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSxcbiAgICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50LCB0aGlzLl9mb3JtLCB0aGlzLl92YWxpZGF0aW9uQ29uZmlnKTtcbiAgICB9XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBmb3JtLCBlcnJvck1lc3NhZ2UsIHZhbGlkYXRpb25Db25maWcpIHtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfSR7dGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvck1lc3NhZ2VTZWxlY3RvclN1ZmZpeH1gXG4gICAgKTtcblxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGZvcm1FbGVtZW50LCB2YWxpZGF0aW9uQ29uZmlnKSB7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9JHt0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmVycm9yTWVzc2FnZVNlbGVjdG9yU3VmZml4fWBcbiAgICApO1xuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzcyk7XG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgICB0aGlzLmFkZEl0ZW0odGhpcy5fZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wb3B1cE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cE1vZGFsQ2xvc2VCdG4gPSB0aGlzLl9wb3B1cE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5tb2RhbF9fY2xvc2UtYnV0dG9uXCJcbiAgICApO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fYWRkRXNjRXZlbnRMaXN0ZW5lcigpO1xuICAgIHRoaXMuX3BvcHVwTW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwTW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICB0aGlzLl9yZW1vdmVFc2NFdmVudExpc3RlbmVyKCk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlUmVtb3RlQ2xpY2soZXZ0KSB7XG4gICAgaWYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSB7XG4gICAgICBjb25zb2xlLmxvZyhldnQudGFyZ2V0KTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cE1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgICB0aGlzLl9wb3B1cE1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImNsaWNrXCIsXG4gICAgICB0aGlzLl9oYW5kbGVSZW1vdGVDbGljay5iaW5kKHRoaXMpXG4gICAgKTtcbiAgfVxuXG4gIF9hZGRFc2NFdmVudExpc3RlbmVyKCkge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlLCBmYWxzZSk7XG4gICAgY29uc29sZS5sb2coXCJMaXN0ZW5lciBhZGRlZCFcIik7XG4gIH1cbiAgX3JlbW92ZUVzY0V2ZW50TGlzdGVuZXIoKSB7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UsIGZhbHNlKTtcbiAgICBjb25zb2xlLmxvZyhcIkxpc3RlbmVyIHJlbW92ZWQhXCIpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcbmltcG9ydCB7IG1vZGFsSW1hZ2VUaXRsZSwgbW9kYWxJbWFnZUxpbmsgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCwgYnV0dG9uVGV4dCB9KSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2J1dHRvblRleHQgPSBidXR0b25UZXh0O1xuICAgIHRoaXMuX21vZGFsRm9ybSA9IHRoaXMuX3BvcHVwTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY29udGFpbmVyXCIpO1xuICAgIHRoaXMuX21vZGFsSW5wdXRzID0gdGhpcy5fcG9wdXBNb2RhbC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcbiAgICB0aGlzLl9zdWJtaXRCdG4gPSB0aGlzLl9tb2RhbEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2F2ZS1idXR0b25cIik7XG4gICAgdGhpcy5zdWJtaXRCdG5UZXh0ID0gdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50O1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9tb2RhbElucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBmb3JtVmFsdWVzO1xuICB9XG5cbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xuICAgIHRoaXMuX21vZGFsSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XG4gICAgfSk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9tb2RhbEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGlucHV0VmFsdWVzID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcbiAgICAgIHRoaXMucmVuZGVyU2F2aW5nKHRydWUpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdChpbnB1dFZhbHVlcyk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHJlbmRlclNhdmluZyhpc1NhdmluZywgc2F2aW5nVGV4dCA9IFwiU2F2aW5nLi4uXCIpIHtcbiAgICBpZiAoaXNTYXZpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ0blRleHQgPSBzYXZpbmdUZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdG5UZXh0ID0gdGhpcy5fYnV0dG9uVGV4dDtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQge1xuICBBdXN0aW5JbWFnZSxcbiAgTllDSW1hZ2UsXG4gIFNhbkZyYW5JbWFnZSxcbiAgS0NpdHlJbWFnZSxcbiAgQ2hpY2Fnb0ltYWdlLFxuICBBVExJbWFnZSxcbiAgaW5pdGlhbENhcmRzLFxuICB2YWxpZGF0aW9uQ29uZmlnLFxuICBtb2RhbFByb2ZpbGVFZGl0QnRuLFxuICBtb2RhbFByb2ZpbGVGb3JtLFxuICBtb2RhbFByb2ZpbGVTYXZlQnRuLFxuICBtb2RhbEltYWdlRWRpdEJ0bixcbiAgbW9kYWxJbWFnZUZvcm0sXG4gIG1vZGFsTmFtZSxcbiAgbW9kYWxKb2IsXG4gIG1vZGFsSW1hZ2VUaXRsZSxcbiAgbW9kYWxJbWFnZUxpbmssXG4gIG5ld1Byb2ZpbGVJbWFnZUJ0bixcbiAgbW9kYWxOZXdQaWN0dXJlLFxuICBuZXdQcm9maWxlUGljdHVyZUZvcm0sXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aERlbGV0ZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cERlbGV0ZVwiO1xuXG5sZXQgY2FyZFRvRGVsZXRlO1xubGV0IGNhcmRBcmVhO1xubGV0IGNhcmRJRDtcblxuLy9HZXQgaW5pdGlhbCBjYXJkcyBhbmQgdXNlciBpbmZvIGZyb20gc2VydmVyXG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBhcGlBZGRyZXNzOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGFwaUhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjM0YmE0MTBjLWE0ZjktNDE4OS04ZDFlLTQ1NDU3NDljODhlNFwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbmNvbnN0IG5ld1VzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgdXNlck5hbWVTZWxlY3RvcjogXCIuaW5mb19fbmFtZVwiLFxuICB1c2VySm9iU2VsZWN0b3I6IFwiLmluZm9fX2pvYi10aXRsZVwiLFxuICBwcm9maWxlUGljdHVyZVNlbGVjdG9yOiBcIi5wcm9maWxlX19jaXJjbGVcIixcbn0pO1xuXG5hcGlcbiAgLmxvYWRQYWdlUmVzdWx0cygpXG4gIC50aGVuKChbY2FyZHMsIHVzZXJEYXRhXSkgPT4ge1xuICAgIGNhcmRBcmVhID0gbmV3IFNlY3Rpb24oeyBpdGVtczogY2FyZHMsIHJlbmRlcmVyOiBjcmVhdGVDYXJkIH0sIFwiLmVsZW1lbnRzXCIpO1xuICAgIGNhcmRBcmVhLnJlbmRlckl0ZW1zKCk7XG4gICAgY29uc29sZS5sb2codXNlckRhdGEpO1xuICAgIG5ld1VzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgIG5hbWU6IHVzZXJEYXRhLm5hbWUsXG4gICAgICBqb2I6IHVzZXJEYXRhLmFib3V0LFxuICAgIH0pO1xuICAgIG5ld1VzZXJJbmZvLnNldFVzZXJQaWN0dXJlKHsgYXZhdGFyOiB1c2VyRGF0YS5hdmF0YXIgfSk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9KTtcblxuLy9DcmVhdGUgY2FyZHMgYW5kIGhhbmRsZSB0aGVpciBsaWtlIGFuZCBkZWxldGUgYnV0dG9uc1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGl0ZW0sXG4gICAgXCIjbG9jYWxlQ2FyZFwiLFxuICAgIG9wZW5Nb2RhbEltYWdlLFxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgIGhhbmRsZUxpa2VcbiAgKTtcbiAgcmV0dXJuIGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG59XG5cbmNvbnN0IGNhcmRQb3BPdXQgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoe1xuICBwb3B1cFNlbGVjdG9yOiBcIi5tb2RhbF90eXBlX2ltYWdlLXBvcC1vdXRcIixcbiAgaW1hZ2VTZWxlY3RvcjogXCIuY2FyZF9faW1hZ2Vfb3B0aW9uX3BvcC1vdXRcIixcbn0pO1xuXG5jYXJkUG9wT3V0LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGRlbGV0ZUNhcmRNb2RhbCA9IG5ldyBQb3B1cFdpdGhEZWxldGUoe1xuICBwb3B1cFNlbGVjdG9yOiBcIi5tb2RhbF90eXBlX2RlbGV0ZS1pbWFnZVwiLFxuICBoYW5kbGVCdG5DbGljazogKCkgPT4ge1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZFRvRGVsZXRlLmRhdGEuX2lkKVxuICAgICAgLnRoZW4oKCkgPT4gY2FyZFRvRGVsZXRlLmRlbGV0ZUNhcmQoKSlcbiAgICAgIC50aGVuKCgpID0+IGRlbGV0ZUNhcmRNb2RhbC5jbG9zZSgpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IGRlbGV0ZUNhcmRNb2RhbC5yZW5kZXJTYXZpbmcoZmFsc2UpKTtcbiAgfSxcbiAgYnV0dG9uVGV4dDogXCJZZXNcIixcbn0pO1xuXG5kZWxldGVDYXJkTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soY2FyZCkge1xuICBjb25zb2xlLmxvZyhjYXJkKTtcbiAgZGVsZXRlQ2FyZE1vZGFsLm9wZW4oKTtcbiAgY2FyZFRvRGVsZXRlID0gY2FyZDtcbiAgcmV0dXJuIGNhcmRUb0RlbGV0ZTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTGlrZShjYXJkKSB7XG4gIGNhcmRJRCA9IGNhcmQuZ2V0SUQoKTtcbiAgaWYgKGNhcmQuZGF0YS5pc0xpa2VkID09IGZhbHNlKSB7XG4gICAgYXBpXG4gICAgICAuYWRkTGlrZShjYXJkSUQpXG4gICAgICAudGhlbigoY2FyZC5kYXRhLmlzTGlrZWQgPSB0cnVlKSlcbiAgICAgIC50aGVuKCgpID0+IGNhcmQudG9nZ2xlSGVhcnQoKSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGFwaVxuICAgICAgLnJlbW92ZUxpa2UoY2FyZElEKVxuICAgICAgLnRoZW4oKGNhcmQuZGF0YS5pc0xpa2VkID0gZmFsc2UpKVxuICAgICAgLnRoZW4oKCkgPT4gY2FyZC50b2dnbGVIZWFydCgpKVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSk7XG4gIH1cbn1cblxuLy9IYW5kbGUgZWRpdC9hZGQgYnV0dG9uIGNsaWNrc1xuXG5tb2RhbFByb2ZpbGVFZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHByb2ZpbGVNb2RhbC5vcGVuKCk7XG4gIGNvbnN0IGRhdGEgPSBuZXdVc2VySW5mby5nZXRVc2VySW5mbygpO1xuICBwcm9maWxlTW9kYWwuc2V0SW5wdXRWYWx1ZXMoZGF0YSk7XG4gIGZvcm1WYWxpZGF0b3JzW1wiZWRpdFByb2ZpbGVcIl0ucmVzZXRWYWxpZGF0aW9uO1xufSk7XG5cbm5ld1Byb2ZpbGVJbWFnZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBuZXdQcm9maWxlUGljdHVyZU1vZGFsLm9wZW4oKTtcbn0pO1xuXG5tb2RhbEltYWdlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBuZXdJbWFnZU1vZGFsLm9wZW4oKTtcbn0pO1xuXG4vL0Zvcm0gYW5kIFBpY3R1cmUgTW9kYWxzXG5cbmNvbnN0IHByb2ZpbGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9wcm9maWxlXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0KGZvcm1EYXRhKSB7XG4gICAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgICByZXR1cm4gYXBpLmVkaXRVc2VySW5mbyhmb3JtRGF0YSkudGhlbigodXNlckRhdGEpID0+IHtcbiAgICAgICAgbmV3VXNlckluZm8uc2V0VXNlckluZm8oeyBuYW1lOiB1c2VyRGF0YS5uYW1lLCBqb2I6IHVzZXJEYXRhLmFib3V0IH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGhhbmRsZVN1Ym1pdChtYWtlUmVxdWVzdCwgcHJvZmlsZU1vZGFsKTtcbiAgfSxcbiAgYnV0dG9uVGV4dDogXCJTYXZlXCIsXG59KTtcblxuY29uc3QgbmV3UHJvZmlsZVBpY3R1cmVNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9jaGFuZ2UtcHJvZmlsZS1waWN0dXJlXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IGZ1bmN0aW9uIGhhbmRsZVByb2ZpbGVQaWN0dXJlU3VibWl0KGZvcm1EYXRhKSB7XG4gICAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgICByZXR1cm4gYXBpLmVkaXRVc2VyUHJvZmlsZVBpY3R1cmUoZm9ybURhdGEpLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gICAgICAgIG5ld1VzZXJJbmZvLnNldFVzZXJQaWN0dXJlKHsgYXZhdGFyOiB1c2VyRGF0YS5hdmF0YXIgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBuZXdQcm9maWxlUGljdHVyZU1vZGFsKTtcbiAgfSxcbiAgYnV0dG9uVGV4dDogXCJTYXZlXCIsXG59KTtcblxuY29uc3QgbmV3SW1hZ2VNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIubW9kYWxfdHlwZV9uZXctaW1hZ2VcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlTmV3UGxhY2VTdWJtaXQoZm9ybURhdGEpIHtcbiAgICBmdW5jdGlvbiBtYWtlUmVxdWVzdCgpIHtcbiAgICAgIHJldHVybiBhcGlcbiAgICAgICAgLmFkZE5ld0NhcmQoZm9ybURhdGEpXG4gICAgICAgIC50aGVuKChjYXJkRGF0YSkgPT4ge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVDYXJkKGNhcmREYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGFkZGVkQ2FyZCkgPT4gY2FyZEFyZWEuYWRkSXRlbShhZGRlZENhcmQpKVxuICAgICAgICAudGhlbigoKSA9PiBtb2RhbEltYWdlRm9ybS5yZXNldCgpKVxuICAgICAgICAudGhlbigoKSA9PiBmb3JtVmFsaWRhdG9yc1tcIm5ld1BsYWNlXCJdLnRvZ2dsZUJ1dHRvblN0YXRlKCkpO1xuICAgIH1cbiAgICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIG5ld0ltYWdlTW9kYWwpO1xuICB9LFxuICBidXR0b25UZXh0OiBcIkNyZWF0ZVwiLFxufSk7XG5cbnByb2ZpbGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xubmV3SW1hZ2VNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xubmV3UHJvZmlsZVBpY3R1cmVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBvcGVuTW9kYWxJbWFnZShjYXJkKSB7XG4gIGNhcmRQb3BPdXQub3BlbihjYXJkLmRhdGEubmFtZSwgY2FyZC5kYXRhLmxpbmspO1xufVxuXG4vL1VuaXZlcnNhbCBzdWJtaXQgaGFuZGxlclxuXG5mdW5jdGlvbiBoYW5kbGVTdWJtaXQocmVxdWVzdCwgcG9wdXBJbnN0YW5jZSwgc2F2aW5nVGV4dCA9IFwiU2F2aW5nLi4uXCIpIHtcbiAgcG9wdXBJbnN0YW5jZS5yZW5kZXJTYXZpbmcodHJ1ZSwgc2F2aW5nVGV4dCk7XG4gIHJlcXVlc3QoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHBvcHVwSW5zdGFuY2UuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHBvcHVwSW5zdGFuY2UucmVuZGVyU2F2aW5nKGZhbHNlKTtcbiAgICB9KTtcbn1cblxuLyogZW5hYmxlIFZhbGlkYXRpb24gKi9cblxuY29uc3QgZm9ybVZhbGlkYXRvcnMgPSB7fTtcblxuY29uc3QgZW5hYmxlVmFsaWRhdGlvbiA9ICh2YWxpZGF0aW9uQ29uZmlnKSA9PiB7XG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHZhbGlkYXRpb25Db25maWcuZm9ybVNlbGVjdG9yKVxuICApO1xuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGZvcm1FbGVtZW50KTtcbiAgICBjb25zdCBmb3JtTmFtZSA9IGZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgZm9ybVZhbGlkYXRvcnNbZm9ybU5hbWVdID0gdmFsaWRhdG9yO1xuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG4gIH0pO1xufTtcblxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHsgYXBpQWRkcmVzcywgYXBpSGVhZGVycyB9KSB7XG4gICAgdGhpcy5fYXBpQWRkcmVzcyA9IGFwaUFkZHJlc3M7XG4gICAgdGhpcy5fYXBpSGVhZGVycyA9IGFwaUhlYWRlcnM7XG4gIH1cblxuICBfc2VydmVyUmVxdWVzdCh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZmV0Y2godXJsLCBvcHRpb25zKS50aGVuKHRoaXMucmVuZGVyUmVzdWx0KTtcbiAgfVxuXG4gIHJlbmRlclJlc3VsdChyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH1cbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyUmVxdWVzdChgJHt0aGlzLl9hcGlBZGRyZXNzfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2FwaUhlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBmZXRjaFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJSZXF1ZXN0KGAke3RoaXMuX2FwaUFkZHJlc3N9L3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5fYXBpSGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGVkaXRVc2VySW5mbyhuZXdVc2VySW5wdXQpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyUmVxdWVzdChgJHt0aGlzLl9hcGlBZGRyZXNzfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5fYXBpSGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmV3VXNlcklucHV0Lm5hbWUsXG4gICAgICAgIGFib3V0OiBuZXdVc2VySW5wdXQuam9iLFxuICAgICAgfSksXG4gICAgfSk7XG4gIH1cblxuICBlZGl0VXNlclByb2ZpbGVQaWN0dXJlKG5ld1VzZXJMaW5rKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclJlcXVlc3QoYCR7dGhpcy5fYXBpQWRkcmVzc30vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9hcGlIZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IG5ld1VzZXJMaW5rLmF2YXRhcixcbiAgICAgIH0pLFxuICAgIH0pO1xuICB9XG5cbiAgYWRkTmV3Q2FyZChuZXdDYXJkSW5wdXQpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyUmVxdWVzdChgJHt0aGlzLl9hcGlBZGRyZXNzfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9hcGlIZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBuZXdDYXJkSW5wdXQubmFtZSxcbiAgICAgICAgbGluazogbmV3Q2FyZElucHV0LmxpbmssXG4gICAgICB9KSxcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclJlcXVlc3QoYCR7dGhpcy5fYXBpQWRkcmVzc30vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5fYXBpSGVhZGVycyxcbiAgICB9KTtcbiAgfVxuXG4gIGFkZExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIHRoaXMuX3NlcnZlclJlcXVlc3QoYCR7dGhpcy5fYXBpQWRkcmVzc30vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5fYXBpSGVhZGVycyxcbiAgICAgIC8qXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGlzTGlrZWQ6IHRydWUgfSksXG4gICAgICAqL1xuICAgIH0pO1xuICB9XG5cbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyUmVxdWVzdChgJHt0aGlzLl9hcGlBZGRyZXNzfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9hcGlIZWFkZXJzLFxuICAgICAgLypcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaXNMaWtlZDogZmFsc2UgfSksXG4gICAgICAqL1xuICAgIH0pO1xuICB9XG5cbiAgY2hlY2tDYXJkc1N0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyUmVxdWVzdChgJHt0aGlzLl9hcGlBZGRyZXNzfS9jYXJkc2AsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2FwaUhlYWRlcnMsXG4gICAgfSk7XG4gIH1cblxuICBsb2FkUGFnZVJlc3VsdHMoKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldEluaXRpYWxDYXJkcygpLCB0aGlzLmZldGNoVXNlckluZm8oKV0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWVTZWxlY3RvciwgdXNlckpvYlNlbGVjdG9yLCBwcm9maWxlUGljdHVyZVNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl91c2VyTmFtZVNlbGVjdG9yID0gdXNlck5hbWVTZWxlY3RvcjtcbiAgICB0aGlzLl91c2VySm9iU2VsZWN0b3IgPSB1c2VySm9iU2VsZWN0b3I7XG4gICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3VzZXJKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJKb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlclByb2ZpbGVQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlUGljdHVyZVNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGpvYjogdGhpcy5fdXNlckpvYi50ZXh0Q29udGVudCxcbiAgICAgIC8qXG4gICAgICBhdmF0YXI6IHRoaXMuX3VzZXJQcm9maWxlUGljdHVyZS5zcmMsXG4gICAgICAqL1xuICAgIH07XG4gIH1cblxuICBnZXRVc2VyUGljdHVyZUxpbmsoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF2YXRhcjogdGhpcy5fdXNlclByb2ZpbGVQaWN0dXJlLnNyYyxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3VzZXJKb2IudGV4dENvbnRlbnQgPSBkYXRhLmpvYjtcbiAgICAvKlxuICAgIHRoaXMuX3VzZXJQcm9maWxlUGljdHVyZS5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgICAqL1xuICB9XG5cbiAgc2V0VXNlclBpY3R1cmUoZGF0YSkge1xuICAgIHRoaXMuX3VzZXJQcm9maWxlUGljdHVyZS5zcmMgPSBkYXRhLmF2YXRhcjtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGltYWdlU2VsZWN0b3IgfSkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3B1cE1vZGFsSW1hZ2UgPSB0aGlzLl9wb3B1cE1vZGFsLnF1ZXJ5U2VsZWN0b3IoaW1hZ2VTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBNb2RhbENhcHRpb24gPSB0aGlzLl9wb3B1cE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jYXJkX19wb3Atb3V0X2NhcHRpb25cIlxuICAgICk7XG4gIH1cblxuICBvcGVuKG5hbWUsIGxpbmspIHtcbiAgICB0aGlzLl9wb3B1cE1vZGFsSW1hZ2Uuc3JjID0gbGluaztcbiAgICB0aGlzLl9wb3B1cE1vZGFsSW1hZ2UuYWx0ID0gbmFtZTtcbiAgICB0aGlzLl9wb3B1cE1vZGFsQ2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUJ0bkNsaWNrLCBidXR0b25UZXh0IH0pIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fYnV0dG9uVGV4dCA9IGJ1dHRvblRleHQ7XG4gICAgdGhpcy5faGFuZGxlQnRuQ2xpY2sgPSBoYW5kbGVCdG5DbGljaztcbiAgICB0aGlzLl9tb2RhbEZvcm0gPSB0aGlzLl9wb3B1cE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NvbnRhaW5lclwiKTtcbiAgICB0aGlzLl9zdWJtaXRCdG4gPSB0aGlzLl9tb2RhbEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc2F2ZS1idXR0b25cIik7XG4gICAgdGhpcy5zdWJtaXRCdG5UZXh0ID0gdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50O1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fc3VibWl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMucmVuZGVyU2F2aW5nKHRydWUpO1xuICAgICAgdGhpcy5faGFuZGxlQnRuQ2xpY2soKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgcmVuZGVyU2F2aW5nKGlzU2F2aW5nLCBzYXZpbmdUZXh0ID0gXCJEZWxldGluZy4uLlwiKSB7XG4gICAgaWYgKGlzU2F2aW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdG5UZXh0ID0gc2F2aW5nVGV4dDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VibWl0QnRuVGV4dCA9IHRoaXMuX2J1dHRvblRleHQ7XG4gICAgfVxuICB9XG59XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwibyIsIm9iaiIsInByb3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwIiwiYiIsImRvY3VtZW50IiwiYmFzZVVSSSIsInNlbGYiLCJsb2NhdGlvbiIsImhyZWYiLCJVUkwiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwibW9kYWxQcm9maWxlIiwicXVlcnlTZWxlY3RvciIsIm1vZGFsUHJvZmlsZUVkaXRCdG4iLCJtb2RhbEltYWdlIiwibW9kYWxJbWFnZUVkaXRCdG4iLCJtb2RhbEltYWdlRm9ybSIsIm5ld1Byb2ZpbGVJbWFnZUJ0biIsIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVJbWFnZUNsaWNrIiwiaGFuZGxlRGVsZXRlQnRuIiwiaGFuZGxlTGlrZUJ0biIsInRoaXMiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQnRuIiwiX2hhbmRsZUxpa2VCdG4iLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZFRlbXBsYXRlIiwiY29udGVudCIsImNsb25lTm9kZSIsImdlbmVyYXRlQ2FyZCIsIl9jYXJkRWxlbWVudCIsIl9jYXJkSGVhcnQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJzcmMiLCJsaW5rIiwiYWx0IiwiaXNMaWtlZCIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImdldElEIiwiX2lkIiwiY2FyZERlbGV0ZUJ0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVIZWFydCIsInRvZ2dsZSIsImRlbGV0ZUNhcmQiLCJjb25zb2xlIiwibG9nIiwiRm9ybVZhbGlkYXRvciIsInZhbGlkYXRpb25Db25maWciLCJmb3JtIiwiX3ZhbGlkYXRpb25Db25maWciLCJfZm9ybSIsIl9pbnB1dExpc3QiLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9kaXNhYmxlQnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiX2VuYWJsZUJ1dHRvbiIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiX2hhc0ludmFsaWRJbnB1dCIsImZvckVhY2giLCJpbnB1dEVsZW1lbnQiLCJfY2hlY2tJbnB1dFZhbGlkaXR5Iiwic29tZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImVycm9yTWVzc2FnZSIsIl9lcnJvckVsZW1lbnQiLCJpZCIsImVycm9yTWVzc2FnZVNlbGVjdG9yU3VmZml4IiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsImZvcm1FbGVtZW50IiwicmVzZXRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiU2VjdGlvbiIsIl9yZWYiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiX2VsZW1lbnQiLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBNb2RhbCIsIl9wb3B1cE1vZGFsQ2xvc2VCdG4iLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsIl9hZGRFc2NFdmVudExpc3RlbmVyIiwiY2xvc2UiLCJfcmVtb3ZlRXNjRXZlbnRMaXN0ZW5lciIsImtleSIsIl9oYW5kbGVSZW1vdGVDbGljayIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJzZXRFdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsImJ1dHRvblRleHQiLCJzdXBlciIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2J1dHRvblRleHQiLCJfbW9kYWxGb3JtIiwiX21vZGFsSW5wdXRzIiwiX3N1Ym1pdEJ0biIsInN1Ym1pdEJ0blRleHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJyZW5kZXJTYXZpbmciLCJpc1NhdmluZyIsInNhdmluZ1RleHQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJfc3VibWl0QnRuVGV4dCIsImNhcmRUb0RlbGV0ZSIsImNhcmRBcmVhIiwiY2FyZElEIiwiYXBpIiwiYXBpQWRkcmVzcyIsImFwaUhlYWRlcnMiLCJfYXBpQWRkcmVzcyIsIl9hcGlIZWFkZXJzIiwiX3NlcnZlclJlcXVlc3QiLCJ1cmwiLCJvcHRpb25zIiwiZmV0Y2giLCJ0aGVuIiwicmVuZGVyUmVzdWx0IiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImhlYWRlcnMiLCJmZXRjaFVzZXJJbmZvIiwiZWRpdFVzZXJJbmZvIiwibmV3VXNlcklucHV0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhYm91dCIsImpvYiIsImVkaXRVc2VyUHJvZmlsZVBpY3R1cmUiLCJuZXdVc2VyTGluayIsImF2YXRhciIsImFkZE5ld0NhcmQiLCJuZXdDYXJkSW5wdXQiLCJjYXJkSWQiLCJhZGRMaWtlIiwicmVtb3ZlTGlrZSIsImNoZWNrQ2FyZHNTdGF0dXMiLCJsb2FkUGFnZVJlc3VsdHMiLCJhbGwiLCJhdXRob3JpemF0aW9uIiwibmV3VXNlckluZm8iLCJ1c2VyTmFtZVNlbGVjdG9yIiwidXNlckpvYlNlbGVjdG9yIiwicHJvZmlsZVBpY3R1cmVTZWxlY3RvciIsIl91c2VyTmFtZVNlbGVjdG9yIiwiX3VzZXJKb2JTZWxlY3RvciIsIl91c2VyTmFtZSIsIl91c2VySm9iIiwiX3VzZXJQcm9maWxlUGljdHVyZSIsImdldFVzZXJJbmZvIiwiZ2V0VXNlclBpY3R1cmVMaW5rIiwic2V0VXNlckluZm8iLCJzZXRVc2VyUGljdHVyZSIsImNyZWF0ZUNhcmQiLCJvcGVuTW9kYWxJbWFnZSIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZSIsImNhcmRzIiwidXNlckRhdGEiLCJjYXRjaCIsImVyciIsImVycm9yIiwiY2FyZFBvcE91dCIsImltYWdlU2VsZWN0b3IiLCJfcG9wdXBNb2RhbEltYWdlIiwiX3BvcHVwTW9kYWxDYXB0aW9uIiwiZGVsZXRlQ2FyZE1vZGFsIiwiaGFuZGxlQnRuQ2xpY2siLCJfaGFuZGxlQnRuQ2xpY2siLCJmaW5hbGx5IiwiY2FyZCIsInByb2ZpbGVNb2RhbCIsImZvcm1WYWxpZGF0b3JzIiwibmV3UHJvZmlsZVBpY3R1cmVNb2RhbCIsIm5ld0ltYWdlTW9kYWwiLCJmb3JtRGF0YSIsImhhbmRsZVN1Ym1pdCIsImNhcmREYXRhIiwiYWRkZWRDYXJkIiwicmVzZXQiLCJyZXF1ZXN0IiwicG9wdXBJbnN0YW5jZSIsImZvcm1TZWxlY3RvciIsInZhbGlkYXRvciIsImZvcm1OYW1lIiwiZ2V0QXR0cmlidXRlIl0sInNvdXJjZVJvb3QiOiIifQ==